## 1. TCP/IP的分层管理
1. 应用层：决定了向用户提供应用服务时通信的活动;（FTP文件传输协议、DNS域名系统、HTTP）
2. 传输层：对应用层，提供处于网络连接中的两台计算机之间的数据传输；（TCP传输控制协议、UDP用户数据报协议）
3. 网络层：用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。与对方计算机之间通过多台计算机或网络设备进行传输时，网络层的作用是在众多的选项内选择一条传输路线。（IP协议）
4. 链路层：用来处理网络的硬件部分。硬件上的范畴均在链路层的作用范围之内。 

## 2. TCP/IP通信传输流
![](https://user-gold-cdn.xitu.io/2019/7/5/16bc0f97162b3474?w=749&h=657&f=png&s=307808)
> 1. 传输层（TCP协议）把从应用层收到的数据（HTTP请求报文）进行分割，并在各个报文上打上标记序号及端口号后转发给网络层。
> 2. 在网络层（IP协议），增加作为通信目的地的MAC地址后转发给链路层。

发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的头部信息。即**封装**。

## 3. IP协议
> IP协议的作用是把各种数据包传送给对方。而要保证确实传送到对方那里，需要满足各类条件。最重要的两个条件是IP地址和MAC地址。IP地址指明了节点被分配到的地址，MAC地址是指网卡所属的固定地址。IP地址可以和MAC地址进行配对。IP地址可变换，MAC地址基本不会更改。使用ARP协议凭借MAC地址进行通信。ARP是一种用以解析地址的协议，更具通信方的IP地址就可以反查出对应的MAC地址。

## 4. TCP协议
> TCP位于传输层，提供可靠的字节流服务。所谓的字节流服务是指，为了方便传输，将大块数据分割成以报文段为单位的数据包进行管理。可靠的传输服务是指，能够把数据可靠的传输给对方。TCP协议为了更容易传送大数据才把数据分割，而且TCP协议能够确认数据最终是否送达对方。

## 5. 三次握手
> 发送端先发送一个带SYN标志的数据包给对方。接收端收到后，回传一个带有SYN/ACK标志的数据包以示传达确认信息。最后，发送端再回传一个带ACK标志的数据包，代表“握手”结束。

![](https://user-gold-cdn.xitu.io/2019/7/5/16bc0f9716823422?w=746&h=406&f=png&s=233553)

## 6. DNS服务
> DNS协议提供通过域名查找IP地址，或逆向从IP地址反查域名的服务。

## 7. 各种协议与HTTP协议的关系
![](https://user-gold-cdn.xitu.io/2019/7/5/16bc0f9716aeff24?w=673&h=940&f=png&s=477244)

## 8. HTTP协议
> HTTP是不保存状态，即无状态协议。HTTP协议自身不对请求和响应之间的通信状态进行保存，即协议对于发送过的请求或响应不做持久化处理。<br><br> 使用HTTP协议，每当有新的请求发送时，就会有对应的新响应产生。协议本身不保留之前一切的请求或响应报文的信息。这是为了更快地处理大量事务，确保协议的可伸缩性。

### Cookie技术
> Cookie技术通过在请求和响应报文中写入Cookie信息来控制客户端的状态。<br><br> Cookie会根据从服务器发送的响应报文内的一个叫做Set-Cookie的首部字段信息，通知客户端保存Cookie。当下次客户端再往该服务器发送请求时，客户端会自动再请求报文中加入Cookie值后发送出去。<br><br> 服务器发现客户端发送过来的Cookie后，会检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。

![](https://user-gold-cdn.xitu.io/2019/7/5/16bc1016a9a46b3b?w=681&h=359&f=png&s=131170)
![](https://user-gold-cdn.xitu.io/2019/7/5/16bc101f63599978?w=689&h=311&f=png&s=116245)
![](https://user-gold-cdn.xitu.io/2019/7/5/16bc102d11f18590?w=651&h=485&f=png&s=88778)

HTTP支持的方法（**8种**）
* **GET**：获取资源
* **POST**：传输实体主体
* **PUT**：传输文件
* **HEAD**：获得报文首部
* **DELETE**：删除文件
* **OPTION**:询问支持的方法
* **TRACE**：追踪路径
* **CONNECT**：要求用隧道协议连接代理。CONNECT方法要求在与代理服务器通信时建立隧道，实现用隧道协议进行TCP通信，主要使用SSL（安全套接层）和TSL（传输层安全）协议把通信内容加密后经网络隧道传输。
